(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"5+jj":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("wd/R"),i=a("fXoL");let o=(()=>{class t{constructor(){this.isIE=/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)}transform(t){return t&&"string"==typeof t&&this.isIE?10===t.length?n.utc(t+="T00:00:00").toDate():n(t).toDate():t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Rb({name:"StringToDate",type:t,pure:!0}),t})()},"5h3M":function(t,e,a){"use strict";function n(t,e){return!(t||e&&"unknown"!==e)}a.d(e,"a",(function(){return n}))},"7Rxu":function(t,e,a){"use strict";a.d(e,"a",(function(){return V}));var n=a("mrSG"),i=a("LvDl"),o=a.n(i),c=a("SX+u"),s=a("+nbM"),r=a("I+dG"),l=a("MV7k"),d=a("1ATV"),u=a("fXoL"),b=a("1kSV");let p=(()=>{class t{constructor(t){this.modal=t,setTimeout(()=>{this.visible=!0})}close(){this.visible=!1,setTimeout(()=>{this.modal.close()},300)}}return t.\u0275fac=function(e){return new(e||t)(u.Sb(b.a))},t.\u0275cmp=u.Mb({type:t,selectors:[["cad-modal-warning"]],inputs:{message:"message"},decls:10,vars:7,consts:[[1,"c-modal"],[1,"c-modal__opac-layer"],[1,"c-modal__content"],[1,"c-modal__close-icon",3,"click"],[1,"las","la-times"],["l10nTranslate","",1,"c-modal__title"],["l10nTranslate","",1,"c-modal__parag"]],template:function(t,e){1&t&&(u.Xb(0,"div",0),u.Tb(1,"div",1),u.Xb(2,"div",2),u.Xb(3,"button",3),u.jc("click",(function(){return e.close()})),u.oc(4,"translate"),u.Tb(5,"i",4),u.Wb(),u.Xb(6,"h3",5),u.Tc(7,"CofaNet.global.warning"),u.Wb(),u.Xb(8,"p",6),u.Tc(9),u.Wb(),u.Wb(),u.Wb()),2&t&&(u.Kb("c-modal--visible",e.visible),u.Fb(3),u.Gb("arial-label",u.qc(4,4,"CofaNet.accessibility.iconPopin.close",e.lang)),u.Fb(6),u.Uc(e.message))},directives:[d.q],pipes:[d.r],styles:[""]}),Object(n.b)([Object(d.k)(),Object(n.c)("design:type",String)],t.prototype,"lang",void 0),t})();var f=a("5h3M");let m=(()=>{class t{constructor(t){this.modal=t,this.confirmed=new u.q}close(t){this.modal.close(t)}}return t.\u0275fac=function(e){return new(e||t)(u.Sb(b.a))},t.\u0275cmp=u.Mb({type:t,selectors:[["cad-modal-noa-ngd"]],outputs:{confirmed:"confirmed"},decls:13,vars:6,consts:[[1,"c-modal"],[1,"c-modal__opac-layer"],[1,"c-modal__content"],[1,"c-modal__close-icon",3,"click"],[1,"las","la-times"],["l10nTranslate","",1,"c-modal__title"],["l10nTranslate","",1,"c-modal__parag"],[1,"c-modal__confirm-button-container"],["id","globalConfirmation","l10nTranslate","",1,"c-button","c-button--primary","c-button--confirm",3,"click"]],template:function(t,e){1&t&&(u.Xb(0,"div",0),u.Tb(1,"div",1),u.Xb(2,"div",2),u.Xb(3,"button",3),u.jc("click",(function(){return e.close()})),u.oc(4,"translate"),u.Tb(5,"i",4),u.Wb(),u.Xb(6,"h3",5),u.Tc(7,"CofaNet.global.warning"),u.Wb(),u.Xb(8,"p",6),u.Tc(9,"CofaNet.product.noa.ngd.warning"),u.Wb(),u.Xb(10,"div",7),u.Xb(11,"button",8),u.jc("click",(function(){return e.close(!0)})),u.Tc(12,"CofaNet.global.confirm"),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&t&&(u.Kb("c-modal--visible",!0),u.Fb(3),u.Gb("arial-label",u.qc(4,3,"CofaNet.accessibility.iconPopin.close",e.lang)))},directives:[d.q],pipes:[d.r],styles:[""]}),Object(n.b)([Object(d.k)(),Object(n.c)("design:type",String)],t.prototype,"lang",void 0),t})();var g=a("qPwn"),h=a("tyNb"),v=a("dzx2"),y=a("6CRC"),C=a("8oAO"),T=a("ofXK"),S=a("1Znx"),N=a("ZOFi");function R(t,e){1&t&&(u.Xb(0,"h3",11),u.Tc(1," CofaNet.menu.risks "),u.Wb())}function O(t,e){1&t&&(u.Xb(0,"h4",12),u.Tc(1," CofaNet.companyDetails.risks.insurance "),u.Wb())}function I(t,e){if(1&t&&(u.Xb(0,"span",24),u.Tb(1,"i",25),u.Tc(2),u.oc(3,"translate"),u.Wb()),2&t){const t=u.nc(4);u.Fb(2),u.Vc("",u.qc(3,1,"CofaNet.product.decision.clauses.NONCANCELLABLE",t.lang)," ")}}function k(t,e){if(1&t){const t=u.Yb();u.Xb(0,"div",15),u.jc("click",(function(){u.Jc(t);const a=e.$implicit,n=u.nc(3);return n.orderProduct(a.deliveryTypeCode,a.action),n.saveNavigation("Insurance items",a.deliveryTypeCode)})),u.Xb(1,"div",16),u.oc(2,"translate"),u.Xb(3,"div",17),u.Xb(4,"span",18),u.jc("click",(function(){u.Jc(t);const a=e.$implicit;return u.nc(3).informationProduct(a.deliveryTypeCode)})),u.oc(5,"translate"),u.Tb(6,"i",19),u.Wb(),u.Xb(7,"span",20),u.Tc(8),u.oc(9,"translate"),u.Rc(10,I,4,4,"span",21),u.Wb(),u.Xb(11,"span",22),u.oc(12,"translate"),u.Tb(13,"i",23),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){const t=e.$implicit,a=u.nc(3);u.Fb(1),u.Gb("arial-label",u.qc(2,5,"CofaNet.accessibility.card.orderProduct",a.lang)),u.Fb(3),u.Gb("arial-label",u.qc(5,8,"CofaNet.accessibility.roundButton.help",a.lang)),u.Fb(4),u.Vc(" ",u.qc(9,11,"BcProduct.deliveryType."+t.deliveryTypeCode,a.lang)," "),u.Fb(2),u.vc("ngIf",(null==a.catalog?null:a.catalog.hasOptionNonCancellable)&&"CREDITLIMIT"===t.deliveryTypeCode),u.Fb(1),u.Gb("arial-label",u.qc(12,14,"CofaNet.accessibility.iconProduct.arrow",a.lang))}}function D(t,e){if(1&t&&(u.Xb(0,"div",13),u.Rc(1,k,14,17,"div",14),u.Wb()),2&t){const t=u.nc(2);u.Fb(1),u.vc("ngForOf",t.listCreateActionCatalog(t.catalog.risk.catalog))}}function X(t,e){1&t&&(u.Xb(0,"h4",12),u.Tc(1," CofaNet.companyDetails.risks.information "),u.Wb())}function W(t,e){if(1&t){const t=u.Yb();u.Xb(0,"div",15),u.jc("click",(function(){u.Jc(t);const a=e.$implicit,n=u.nc(3);return n.orderProduct(a.deliveryTypeCode,a.action,a.familyTypeCode),n.saveNavigation("Information items",a.deliveryTypeCode)})),u.Xb(1,"div",27),u.oc(2,"translate"),u.Xb(3,"div",17),u.Xb(4,"span",18),u.jc("click",(function(){u.Jc(t);const a=e.$implicit;return u.nc(3).informationProduct(a.deliveryTypeCode)})),u.oc(5,"translate"),u.Tb(6,"i",19),u.Wb(),u.Xb(7,"span",20),u.Tc(8),u.oc(9,"translate"),u.Wb(),u.Xb(10,"span",22),u.oc(11,"translate"),u.Tb(12,"i",23),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){const t=e.$implicit,a=u.nc(3);u.Fb(1),u.Gb("arial-label",u.qc(2,4,"CofaNet.accessibility.card.orderProduct",a.lang)),u.Fb(3),u.Gb("arial-label",u.qc(5,7,"CofaNet.accessibility.roundButton.help",a.lang)),u.Fb(4),u.Uc(u.qc(9,10,"BcProduct.deliveryType."+t.deliveryTypeCode,a.lang)),u.Fb(2),u.Gb("arial-label",u.qc(11,13,"CofaNet.accessibility.iconProduct.arrow",a.lang))}}function F(t,e){if(1&t&&(u.Xb(0,"div",26),u.Rc(1,W,13,16,"div",14),u.Wb()),2&t){const t=u.nc(2);u.Fb(1),u.vc("ngForOf",t.listCreateActionCatalog(t.catalog.information.catalog))}}function w(t,e){1&t&&(u.Xb(0,"h4",12),u.Tc(1," CofaNet.companyDetails.risks.report "),u.Wb())}function P(t,e){if(1&t){const t=u.Yb();u.Xb(0,"div",15),u.jc("click",(function(){u.Jc(t);const a=e.$implicit,n=u.nc(3);return n.orderProduct(a.deliveryTypeCode,a.action),n.saveNavigation("Report items",a.deliveryTypeCode)})),u.Xb(1,"div",27),u.oc(2,"translate"),u.Xb(3,"div",17),u.Xb(4,"span",18),u.jc("click",(function(){u.Jc(t);const a=e.$implicit;return u.nc(3).informationProduct(a.deliveryTypeCode)})),u.oc(5,"translate"),u.Tb(6,"i",19),u.Wb(),u.Xb(7,"span",20),u.Tc(8),u.oc(9,"translate"),u.Wb(),u.Xb(10,"span",22),u.oc(11,"translate"),u.Tb(12,"i",23),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){const t=e.$implicit,a=u.nc(3);u.Fb(1),u.Gb("arial-label",u.qc(2,4,"CofaNet.accessibility.card.orderProduct",a.lang)),u.Fb(3),u.Gb("arial-label",u.qc(5,7,"CofaNet.accessibility.roundButton.help",a.lang)),u.Fb(4),u.Uc(u.qc(9,10,"BcProduct.deliveryType."+t.deliveryTypeCode,a.lang)),u.Fb(2),u.Gb("arial-label",u.qc(11,13,"CofaNet.accessibility.iconProduct.arrow",a.lang))}}function A(t,e){if(1&t&&(u.Xb(0,"div",28),u.Rc(1,P,13,16,"div",14),u.Wb()),2&t){const t=u.nc(2);u.Fb(1),u.vc("ngForOf",t.displayOneTypeOfReport(t.catalog.report.catalog))}}function _(t,e){if(1&t&&(u.Xb(0,"h4",29),u.Tc(1," CofaNet.menu.overdues "),u.Wb()),2&t){const t=u.nc(2);u.Kb("mt-0","overdue"===t.limit)}}function E(t,e){if(1&t){const t=u.Yb();u.Xb(0,"div",31),u.jc("click",(function(){u.Jc(t);const a=e.$implicit,n=u.nc(3);return n.orderProduct(a.debtType),n.saveNavigation("Overdue",a.debtType)})),u.Xb(1,"div",32),u.oc(2,"translate"),u.Xb(3,"div",17),u.Xb(4,"a",18),u.jc("click",(function(){u.Jc(t);const a=e.$implicit;return u.nc(3).informationProduct("NOA_"+a.debtType)})),u.oc(5,"translate"),u.Tb(6,"i",19),u.Wb(),u.Xb(7,"span",20),u.Tc(8),u.oc(9,"translate"),u.Wb(),u.Xb(10,"a",22),u.oc(11,"translate"),u.Tb(12,"i",23),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&t){const t=e.$implicit,a=u.nc(3);u.Fb(1),u.Gb("arial-label",u.qc(2,4,"CofaNet.accessibility.card.orderProduct",a.lang)),u.Fb(3),u.Gb("arial-label",u.qc(5,7,"CofaNet.accessibility.roundButton.help",a.lang)),u.Fb(4),u.Uc(u.qc(9,10,"BcProduct.deliveryType.NOA_"+t.debtType,a.lang)),u.Fb(2),u.Gb("arial-label",u.qc(11,13,"CofaNet.accessibility.iconProduct.arrow",a.lang))}}function L(t,e){if(1&t&&(u.Xb(0,"div",28),u.Rc(1,E,13,16,"div",30),u.Wb()),2&t){const t=u.nc(2);u.Fb(1),u.vc("ngForOf",t.listCreateActionCatalog(t.catalog.overdue.catalog))}}function x(t,e){1&t&&(u.Xb(0,"p",33),u.Tc(1," CofaNet.CompanyDetails.orderNotAvailable "),u.Wb())}function q(t,e){1&t&&(u.Xb(0,"p",33),u.Tc(1," CofaNet.CompanyDetails.actionNotAvailable "),u.Wb())}function U(t,e){1&t&&(u.Xb(0,"p",33),u.Tc(1," CofaNet.companydetails.catalog.pendingdebtorvalidation "),u.Wb())}const M=function(t){return{busy:t,delay:250}};function j(t,e){if(1&t&&(u.Xb(0,"div",1),u.Xb(1,"div",2),u.Xb(2,"div",3),u.Rc(3,R,2,0,"h3",4),u.Rc(4,O,2,0,"h4",5),u.Rc(5,D,2,1,"div",6),u.Rc(6,X,2,0,"h4",5),u.Rc(7,F,2,1,"div",7),u.Wb(),u.Wb(),u.Xb(8,"div",2),u.Xb(9,"div",3),u.Rc(10,w,2,0,"h4",5),u.Rc(11,A,2,1,"div",8),u.Wb(),u.Wb(),u.Xb(12,"div",2),u.Xb(13,"div",3),u.Rc(14,_,2,2,"h4",9),u.Rc(15,L,2,1,"div",8),u.Wb(),u.Wb(),u.Rc(16,x,2,0,"p",10),u.Rc(17,q,2,0,"p",10),u.Rc(18,U,2,0,"p",10),u.Wb()),2&t){const t=u.nc();u.Fb(2),u.vc("ngBusy",u.zc(15,M,t.busyRisk)),u.Fb(1),u.vc("ngIf","risk"===t.limit&&(null==t.catalog?null:t.catalog.risk)&&t.listCreateActionCatalog(t.catalog.risk.catalog).length>0&&!t.hasPendingOrders),u.Fb(1),u.vc("ngIf",(null==t.catalog?null:t.catalog.risk)&&t.listCreateActionCatalog(t.catalog.risk.catalog).length>0&&!t.hasPendingOrders),u.Fb(1),u.vc("ngIf",(null==t.catalog?null:t.catalog.risk)&&t.catalog.risk.catalog&&!t.hasPendingOrders),u.Fb(1),u.vc("ngIf",(null==t.catalog?null:t.catalog.information)&&t.catalog.information.catalog&&t.listCreateActionCatalog(t.catalog.information.catalog).length>0&&!t.hasPendingOrders),u.Fb(1),u.vc("ngIf",(null==t.catalog?null:t.catalog.information)&&t.catalog.information.catalog&&!t.hasPendingOrders),u.Fb(2),u.vc("ngBusy",u.zc(17,M,t.busyReport)),u.Fb(1),u.vc("ngIf",(null==t.catalog?null:t.catalog.report)&&t.catalog.report.catalog&&t.catalog.report.catalog.length>0&&!t.hasPendingOrders),u.Fb(1),u.vc("ngIf",(null==t.catalog?null:t.catalog.report)&&t.catalog.report.catalog&&!t.hasPendingOrders),u.Fb(2),u.vc("ngBusy",u.zc(19,M,t.busyOverdue)),u.Fb(1),u.vc("ngIf",(null==t.catalog?null:t.catalog.overdue)&&t.listCreateActionCatalog(t.catalog.overdue.catalog).length>0&&!t.hasPendingOrders),u.Fb(1),u.vc("ngIf",(null==t.catalog?null:t.catalog.overdue)&&t.catalog.overdue.catalog&&!t.hasPendingOrders),u.Fb(1),u.vc("ngIf","risk"===t.limit&&(null==t.catalog?null:t.catalog.risk)&&0===t.listCreateActionCatalog(t.catalog.risk.catalog).length||"overdue"===t.limit&&(null==t.catalog?null:t.catalog.overdue)&&0===t.listCreateActionCatalog(t.catalog.overdue.catalog).length||"information"===t.limit&&(null==t.catalog?null:t.catalog.information)&&t.catalog.report&&0===t.catalog.information.catalog.length&&0===t.catalog.report.catalog.length),u.Fb(1),u.vc("ngIf",(null==t.catalog?null:t.catalog.risk)&&0===t.listCreateActionCatalog(t.catalog.risk.catalog).length&&t.catalog.overdue&&0===t.listCreateActionCatalog(t.catalog.overdue.catalog).length&&t.catalog.information&&t.catalog.report&&0===t.catalog.information.catalog.length&&0===t.catalog.report.catalog.length),u.Fb(1),u.vc("ngIf",t.hasPendingOrders)}}let V=(()=>{class t{constructor(t,e,a,n,i,o,c,s){this.companyService=t,this.activatedRoute=e,this.apiService=a,this.router=n,this.localStorage=i,this.modalService=o,this.authenticationService=c,this.analyticsService=s,this.catalogCategories=["risk","information","overdue","report"],this.NON_CANCELLABLE_PRODUCTS=["CREDITLIMIT"],this.easyNumber=this.activatedRoute.snapshot.paramMap.get("easyNumber"),window.addEventListener("scroll",()=>{this.checkElements()})}ngOnInit(){if(this.companyService.getCatalogInLive().subscribe(()=>setTimeout(()=>this.checkElements())),Object(f.a)(this.company,this.easyNumber)&&(this.companyTemp=this.localStorage.get("companyTemp")),this.user=this.authenticationService.currentUserValue,this.catalog)setTimeout(()=>{this.checkElements()});else if(this.catalog={},this.limit){if("risk"===this.limit||"riskInformation"===this.limit){const t=this.companyTemp?this.companyService.hGetCatalogByCountry(this.companyTemp.address.isoCountryCode):this.companyService.hGetCatalog(this.company.easyNumber);this.busyRisk=t.subscribe(t=>{this.catalog.risk=this.apiService.setCatalog(t,"risk"),"riskInformation"===this.limit&&(this.catalog.information=this.apiService.setCatalog(t,"information")),this.apiService.removeProductFromCatalog(this.catalog.risk.catalog),this.listenerLoadCatalog("risk"),this.callCheckElements(),this.catalog.hasOptionNonCancellable=t.hasOptionNonCancellable})}else if("overdue"===this.limit){const t=this.companyTemp?this.companyService.hGetCatalogOverduesByCountry(this.companyTemp.address.isoCountryCode):this.companyService.hGetCatalogOverdues(this.company.easyNumber);this.setCatalog(s.a.CATALOG.OVERDUE,t)}else if("information"===this.limit){const t=this.companyTemp?this.companyService.hGetCatalogByCountry(this.companyTemp.address.isoCountryCode):this.companyService.hGetCatalog(this.company.easyNumber);this.busyRisk=t.subscribe(t=>{this.catalog.information=this.apiService.setCatalog(t,"information"),this.listenerLoadCatalog("information"),this.callCheckElements(),this.catalog.hasOptionNonCancellable=t.hasOptionNonCancellable});const e=this.companyTemp?this.companyService.hGetCatalogReportByUnknownBuyer(this.unknownBuyer(this.companyTemp)):this.companyService.hGetCatalogReport(this.company.easyNumber);this.setCatalog(s.a.CATALOG.REPORT,e)}}else this.companyTemp?(this.busyRisk=this.companyService.hGetCatalogByCountry(this.companyTemp.address.isoCountryCode).subscribe(t=>{this.catalog.risk=this.apiService.setCatalog(t,"risk"),this.catalog.information=this.apiService.setCatalog(t,"information"),this.apiService.removeProductFromCatalog(this.catalog.risk.catalog),this.listenerLoadCatalog("risk"),this.listenerLoadCatalog("information"),this.callCheckElements()}),this.user.menuAuthorizations.overduesRight&&this.setCatalog(s.a.CATALOG.OVERDUE,this.companyService.hGetCatalogOverduesByCountry(this.companyTemp.address.isoCountryCode)),this.setCatalog(s.a.CATALOG.REPORT,this.companyService.hGetCatalogReportByUnknownBuyer(this.unknownBuyer(this.companyTemp)))):(this.busyRisk=this.companyService.hGetCatalog(this.easyNumber).subscribe(t=>{this.catalog.risk=this.apiService.setCatalog(t,"risk"),this.catalog.information=this.apiService.setCatalog(t,"information"),this.apiService.removeProductFromCatalog(this.catalog.risk.catalog),this.listenerLoadCatalog("risk"),this.listenerLoadCatalog("information"),this.callCheckElements(),this.catalog.hasOptionNonCancellable=t.hasOptionNonCancellable}),this.user.menuAuthorizations.overduesRight&&this.setCatalog(s.a.CATALOG.OVERDUE,this.companyService.hGetCatalogOverdues(this.easyNumber)),this.setCatalog(s.a.CATALOG.REPORT,this.companyService.hGetCatalogReport(this.easyNumber)))}callCheckElements(){setTimeout(()=>{this.checkElements()})}setCatalog(t,e){switch(t){case s.a.CATALOG.OVERDUE:this.busyOverdue=e.subscribe(t=>{this.catalog.overdue=this.apiService.setCatalog(t,s.a.CATALOG.OVERDUE),this.listenerLoadCatalog(s.a.CATALOG.OVERDUE),this.callCheckElements()});break;case s.a.CATALOG.REPORT:this.busyReport=e.subscribe(t=>{this.catalog.report=this.apiService.setCatalog(t,s.a.CATALOG.REPORT),this.listenerLoadCatalog(s.a.CATALOG.REPORT),this.callCheckElements()});break;default:console.error(`type ${t} does not exist!`)}}listenerLoadCatalog(t){-1!==o.a.indexOf(this.catalogCategories,t)&&(this.catalogCategories.splice(o.a.indexOf(this.catalogCategories,t),1),0===this.catalogCategories.length&&this.checkElements())}unknownBuyer(t){return{debtorIsoCountryCode:t.address.isoCountryCode,"unknownDebtor.address.city":t.address.cityName,"unknownDebtor.address.postalCode":t.address.postalCode,"unknownDebtor.address.sectorCode":t.address.sectorCode,"unknownDebtor.address.street":o.a.first(t.address.addressLines),"unknownDebtor.businessName":t.businessName,"unknownDebtor.legalIds[0].name":t.mainLegalId&&t.mainLegalId.identifierValue?t.mainLegalId.identifierName:"","unknownDebtor.legalIds[0].value":t.mainLegalId&&t.mainLegalId.identifierValue?t.mainLegalId.identifierValue:""}}informationProduct(t){const e=this.modalService.open(l.a);e.componentInstance.type="detail-product",e.componentInstance.data={product:t,isNonCancellable:!!this.catalog&&this.catalog.hasOptionNonCancellable&&this.NON_CANCELLABLE_PRODUCTS.find(e=>e===t)}}orderProduct(t,e,a){if(this.user.preferences.easylinerProjectLimit&&this.user.preferences.easylinerProjectCounter===this.user.preferences.easylinerProjectLimit)this.modalService.open(p).componentInstance.message="CofaNet.product.order.easyliner.limit.error";else if(-1!==[s.a.PRODUCT.NATIVE_REP,s.a.PRODUCT.FULL_REPORT,s.a.PRODUCT.SNAPSHOT_REPORT].indexOf(t)){const e=o.a.filter(this.catalog.report.catalog,{deliveryTypeCode:t}),a=e.length>1?e:o.a.find(this.catalog.report.catalog,{deliveryTypeCode:t});Object.assign(o.a.isArray(a)?o.a.first(a):a,{familyTypeCode:"RETfamily",score:this.catalog.score,action:[a.action||s.a.ACTION.CREATE]}),this.localStorage.set("catalog",a),this.apiService.companyDetailsTabs="actions",this.redirectToOrderProduct(t),this.history&&(this.apiService.historyBreadCrumb={step:2,company:this.company})}else if(-1!==[s.a.PRODUCT.CREDITLIMIT,s.a.PRODUCT.CCO,s.a.PRODUCT.TOPLINER,s.a.PRODUCT.ONF,s.a.PRODUCT.OCL,s.a.PRODUCT.EDD,s.a.PRODUCT.KZU].indexOf(t)){const a=o.a.filter(this.catalog[this.apiService.productFamily(t)].catalog,a=>a.deliveryTypeCode===t&&a.action===e);this.localStorage.set("catalog",Object.assign(a[0],{score:this.catalog.score})),this.apiService.companyDetailsTabs="actions",this.redirectToOrderProduct(t),this.history&&(this.apiService.historyBreadCrumb={step:2,company:this.company})}else if(-1!==o.a.indexOf([s.a.PRODUCT.NOA_CI,s.a.PRODUCT.NOA_NGD],"NOA_"+t))this.checkNOAType(t);else{const n=this.modalService.open(l.a);n.componentInstance.type="order",n.componentInstance.data={catalog:o.a.find(this.catalog[this.apiService.productFamily(t)].catalog,a=>a.deliveryTypeCode===t&&a.action===e),company:this.company,companyTemp:this.companyTemp,product:t,familyTypeCode:a}}}checkNOAType(t){"NGD"===t?this.modalService.open(m).result.then(e=>{e&&this.orderNOA(t)}):this.orderNOA(t)}orderNOA(t){this.localStorage.set("catalog",Object.assign(o.a.find(this.catalog.overdue.catalog,{debtType:t}),{score:this.catalog.score})),this.apiService.companyDetailsTabs="actions",this.redirectToOrderProduct("NOA_"+t),this.history&&(this.apiService.historyBreadCrumb={step:2,company:this.company})}redirectToOrderProduct(t){this.router.navigate(this.companyTemp&&!this.easyNumber?["order","unknown",t]:["order",this.easyNumber,t])}saveNavigation(t,e){const a=new r.c(r.e.Engagement,r.d.selectAction,`${t}|${e}`);this.analyticsService.triggerGtmTagEvent(a)}checkElements(){const t=document.querySelectorAll(".c-risk-item");Array.from(t).forEach(t=>{this.apiService.isInViewport(t)&&(t.classList.add("animated"),t.classList.add("fadeInUp"),t.classList.add("c-risk-item--not-opac"))})}listCreateActionCatalog(t){const e=[];return o.a.each(t,t=>{-1===o.a.indexOf(t.action,s.a.ACTION.CREATE)||t.deliveryId&&t.deliveryTypeCode===s.a.PRODUCT.EDD||t.deliveryTypeCode===s.a.PRODUCT.OCL||t.deliveryTypeCode===s.a.PRODUCT.ONF||e.push(t)}),e}displayOneTypeOfReport(t){return o.a.uniqBy(t,"deliveryTypeCode")}}return t.\u0275fac=function(e){return new(e||t)(u.Sb(g.a),u.Sb(h.a),u.Sb(v.a),u.Sb(h.e),u.Sb(c.a),u.Sb(b.g),u.Sb(y.a),u.Sb(C.a))},t.\u0275cmp=u.Mb({type:t,selectors:[["cad-company-catalog"]],inputs:{easyNumber:"easyNumber",catalog:"catalog",company:"company",limit:"limit",history:"history",busyRisk:"busyRisk",busyOverdue:"busyOverdue",busyReport:"busyReport",hasPendingOrders:"hasPendingOrders"},decls:1,vars:1,consts:[["class","c-risks",4,"ngIf"],[1,"c-risks"],[1,"d-relative"],[3,"ngBusy"],["class","c-risks__title","l10nTranslate","",4,"ngIf"],["class","c-risks__item-title","l10nTranslate","",4,"ngIf"],["id","insuranceItems","class","row",4,"ngIf"],["id","informationsItems","class","row",4,"ngIf"],["class","row",4,"ngIf"],["class","c-risks__item-title","id","c-risks__item-title-overdue","l10nTranslate","",3,"mt-0",4,"ngIf"],["l10nTranslate","","class","c-text c-text--primary-light c-table__text-ceil align-middle text-center","l10nTranslate","",4,"ngIf"],["l10nTranslate","",1,"c-risks__title"],["l10nTranslate","",1,"c-risks__item-title"],["id","insuranceItems",1,"row"],["class","col-2-4",3,"click",4,"ngFor","ngForOf"],[1,"col-2-4",3,"click"],[1,"c-risk-item"],[1,"c-risk-item__inner-content"],["click-stop-propagation","",1,"c-risk-item__help-icon",3,"click"],[1,"las","la-question-circle"],[1,"c-risk-item__title"],["class","c-risk-item__title non-cancellable",4,"ngIf"],[1,"c-risk-item__arrow"],[1,"las","la-arrow-right"],[1,"c-risk-item__title","non-cancellable"],[1,"las","la-ban"],["id","informationsItems",1,"row"],[1,"c-risk-item","c-risk-item--information-item"],[1,"row"],["id","c-risks__item-title-overdue","l10nTranslate","",1,"c-risks__item-title"],["id","createNOA","class","col-2-4",3,"click",4,"ngFor","ngForOf"],["id","createNOA",1,"col-2-4",3,"click"],[1,"c-risk-item","c-risk-item--information-item","c-risk-item--event-item"],["l10nTranslate","","l10nTranslate","",1,"c-text","c-text--primary-light","c-table__text-ceil","align-middle","text-center"]],template:function(t,e){1&t&&u.Rc(0,j,19,21,"div",0),2&t&&u.vc("ngIf",e.catalog)},directives:[T.u,S.c,d.q,T.t,N.a],pipes:[d.r],styles:[".c-risk-item__title.non-cancellable[_ngcontent-%COMP%]{color:var(--accent-darkest);padding:10px}.c-risk-item__title.non-cancellable[_ngcontent-%COMP%]   .las.la-ban[_ngcontent-%COMP%]{padding-right:5px}"]}),Object(n.b)([Object(d.k)(),Object(n.c)("design:type",String)],t.prototype,"lang",void 0),t})()},BsqS:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("XNiG"),i=a("fXoL");let o=(()=>{class t{constructor(){this.refreshNow=new n.a}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},MV7k:function(t,e,a){"use strict";a.d(e,"a",(function(){return Wt}));var n=a("mrSG"),i=a("fXoL"),o=a("3Pt+"),c=a("1ATV"),s=a("LvDl"),r=a.n(s),l=a("SX+u"),d=a("+nbM"),u=a("I+dG"),b=a("pdN7"),p=a("1kSV"),f=a("HdJu"),m=a("tyNb"),g=a("6CRC"),h=a("dzx2"),v=a("Emy8"),y=a("8oAO"),C=a("tanD"),T=a("qPwn"),S=a("1Znx"),N=a("ofXK"),R=a("kUwB"),O=a("5+jj");function I(t,e){if(1&t&&(i.Xb(0,"div",14),i.Xb(1,"div",15),i.Xb(2,"div",16),i.Xb(3,"label",17),i.Tc(4,"CofaNet.company.notepad.COMPANYREF"),i.Wb(),i.Wb(),i.Xb(5,"div",18),i.Tb(6,"input",19),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.nc(2);i.vc("formGroup",t.formReference)}}function k(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"p",10),i.Tc(2,"CofaNet.product.order.generic.confirm"),i.Wb(),i.Rc(3,I,7,1,"div",11),i.Xb(4,"div",12),i.Xb(5,"button",13),i.jc("click",(function(){return i.Jc(t),i.nc().order()})),i.Tc(6,"CofaNet.global.confirm"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.nc();i.Fb(3),i.vc("ngIf",t.data.company&&t.data.company.customerReference&&!t.data.company.customerReference.value),i.Fb(2),i.vc("disabled",t.isSubmit)}}function D(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"p",10),i.Tc(2,"CofaNet.product.order.modal.MOVE "),i.Xb(3,"span",20),i.Tc(4,"BcProduct.deliveryType.NOA_NGD"),i.Wb(),i.Wb(),i.Xb(5,"div",12),i.Xb(6,"button",21),i.jc("click",(function(){return i.Jc(t),i.nc().order()})),i.Tc(7,"CofaNet.global.yes"),i.Wb(),i.Xb(8,"button",22),i.jc("click",(function(){return i.Jc(t),i.nc().close()})),i.Tc(9,"CofaNet.global.no"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.nc();i.Fb(6),i.vc("disabled",t.isSubmit)}}function X(t,e){1&t&&(i.Xb(0,"p",10),i.Tc(1,"CofaNet.product.order.modal.DELE"),i.Wb())}function W(t,e){1&t&&(i.Xb(0,"p",10),i.Tc(1,"CofaNet.product.order.modal.STOP"),i.Wb())}function F(t,e){if(1&t&&(i.Xb(0,"p",10),i.Tc(1," CofaNet.product.order.modal.MOVE "),i.Xb(2,"span"),i.Tc(3),i.oc(4,"translate"),i.Wb(),i.Wb()),2&t){const t=i.nc(2);i.Fb(3),i.Uc(i.qc(4,1,"BcProduct.deliveryType."+t.data.product,t.lang))}}function w(t,e){if(1&t&&(i.Xb(0,"div",25),i.Xb(1,"div",26),i.Xb(2,"label",27),i.Tc(3,"CofaNet.product.decision.effectDate"),i.Wb(),i.Wb(),i.Xb(4,"div",28),i.Xb(5,"div",29),i.Tb(6,"cad-date-format",30),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.nc(2);i.Fb(6),i.vc("form",t.form)("minDate",t.effectDate.minDate)("maxDate",t.effectDate.maxDatePlus90Days)}}function P(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Rc(1,X,2,0,"p",23),i.Rc(2,W,2,0,"p",23),i.Rc(3,F,5,4,"p",23),i.Rc(4,w,7,3,"div",24),i.Xb(5,"div",12),i.Xb(6,"button",21),i.jc("click",(function(){return i.Jc(t),i.nc().order()})),i.Tc(7," CofaNet.global.yes "),i.Wb(),i.Xb(8,"button",22),i.jc("click",(function(){return i.Jc(t),i.nc().close()})),i.Tc(9,"CofaNet.global.no"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.nc();i.Fb(1),i.vc("ngIf","DELE"===t.type),i.Fb(1),i.vc("ngIf","STOP"===t.type),i.Fb(1),i.vc("ngIf","MOVE"===t.type),i.Fb(1),i.vc("ngIf",t.riskParameters&&t.riskParameters.effectDateRight),i.Fb(2),i.vc("disabled",t.isSubmit||"DELE"===t.type&&t.riskParameters&&t.riskParameters.effectDateRight&&t.form.invalid)}}const A=function(t,e){return{requestedAmount:t,requestedCurrency:e}};function _(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Tb(1,"p",31),i.oc(2,"l10nDecimal"),i.Xb(3,"div",12),i.Xb(4,"button",32),i.jc("click",(function(){return i.Jc(t),i.nc().orderCCL()})),i.Tc(5,"CofaNet.global.yes"),i.Wb(),i.Xb(6,"button",33),i.jc("click",(function(){return i.Jc(t),i.nc().close()})),i.Tc(7,"CofaNet.global.no"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.nc();i.Fb(1),i.vc("innerHTML","CofaNet.product.order.warning.amount",i.Kc)("params",i.Ac(5,A,i.qc(2,2,t.data.payload.riskDetails.amount,t.defaultLocale)," "+t.data.payload.riskDetails.currency))}}function E(t,e){1&t&&(i.Vb(0),i.Tc(1,"CofaNet.product.order.topliner.price"),i.Ub())}function L(t,e){1&t&&(i.Vb(0),i.Tc(1,"CofaNet.product.order.topliner.capliner.price"),i.Ub())}function x(t,e){1&t&&(i.Vb(0),i.Tc(1,"CofaNet.product.order.topliner.disclamer"),i.Ub())}function q(t,e){1&t&&(i.Vb(0),i.Tc(1,"CofaNet.product.order.topliner.capliner.disclamer"),i.Ub())}function U(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",25),i.Xb(2,"div",34),i.Xb(3,"label",20),i.Tc(4,"CofaNet.product.request.amount"),i.Wb(),i.Wb(),i.Xb(5,"div",35),i.Tc(6),i.oc(7,"number"),i.Wb(),i.Wb(),i.Xb(8,"div",25),i.Xb(9,"div",34),i.Xb(10,"label",20),i.Tc(11,"CofaNet.product.decision.amount"),i.Wb(),i.Wb(),i.Xb(12,"div",35),i.Tc(13),i.oc(14,"number"),i.Wb(),i.Wb(),i.Xb(15,"div",25),i.Xb(16,"div",34),i.Xb(17,"label",20),i.Tc(18,"CofaNet.product.duration"),i.Wb(),i.Wb(),i.Xb(19,"div",35),i.Tc(20),i.oc(21,"translate"),i.Wb(),i.Wb(),i.Xb(22,"div",25),i.Xb(23,"div",34),i.Xb(24,"label",20),i.Rc(25,E,2,0,"ng-container",8),i.Rc(26,L,2,0,"ng-container",8),i.Wb(),i.Wb(),i.Xb(27,"div",35),i.Tc(28),i.oc(29,"number"),i.Wb(),i.Wb(),i.Xb(30,"p",10),i.Rc(31,x,2,0,"ng-container",8),i.Rc(32,q,2,0,"ng-container",8),i.Wb(),i.Xb(33,"div",12),i.Xb(34,"button",32),i.jc("click",(function(){return i.Jc(t),i.nc(2).decisionTopLinerSimulation(!1,!0)})),i.Tc(35,"CofaNet.global.refused"),i.Wb(),i.Xb(36,"button",32),i.jc("click",(function(){return i.Jc(t),i.nc(2).decisionTopLinerSimulation(!1,!1)})),i.Tc(37,"CofaNet.global.newSimulation"),i.Wb(),i.Xb(38,"button",32),i.jc("click",(function(){return i.Jc(t),i.nc(2).decisionTopLinerSimulation(!0,!0)})),i.Tc(39,"CofaNet.global.buy"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.nc(2);i.Fb(6),i.Wc(" ",i.pc(7,12,t.data.responseSimulation.requestedAmount.value)," ",t.data.responseSimulation.requestedAmount.currency," "),i.Fb(7),i.Wc(" ",i.pc(14,14,t.data.responseSimulation.agreedAmount.value)," ",t.data.responseSimulation.agreedAmount.currency," "),i.Fb(7),i.Wc(" ",t.data.responseSimulation.duration," ",i.qc(21,16,"CofaNet.product.paymentTerms.days",t.lang)," "),i.Fb(5),i.vc("ngIf","TOPLINER"===t.data.product),i.Fb(1),i.vc("ngIf","TOPLINER.capliner"===t.data.product),i.Fb(2),i.Wc(" ",i.pc(29,19,t.data.responseSimulation.invoicedAmount.value)," ",t.data.responseSimulation.invoicedAmount.currency," "),i.Fb(3),i.vc("ngIf","TOPLINER"===t.data.product),i.Fb(1),i.vc("ngIf","TOPLINER.capliner"===t.data.product)}}function M(t,e){if(1&t&&(i.Xb(0,"p",10),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(2);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.topliner.error."+t.data.responseSimulation.errorCode,t.lang)," ")}}function j(t,e){1&t&&(i.Vb(0),i.Tc(1,"CofaNet.product.topliner.error"),i.Ub())}function V(t,e){1&t&&(i.Vb(0),i.Tc(1,"CofaNet.product.topliner.capliner.error"),i.Ub())}function G(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Xb(1,"p",10),i.Rc(2,j,2,0,"ng-container",8),i.Rc(3,V,2,0,"ng-container",8),i.Wb(),i.Xb(4,"div",12),i.Xb(5,"button",36),i.jc("click",(function(){return i.Jc(t),i.nc(2).goToCompany()})),i.Tc(6,"CofaNet.global.cancel"),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.nc(2);i.Fb(2),i.vc("ngIf","TOPLINER"===t.data.product),i.Fb(1),i.vc("ngIf","TOPLINER.capliner"===t.data.product)}}function B(t,e){if(1&t&&(i.Xb(0,"div"),i.Rc(1,U,40,21,"div",8),i.Rc(2,M,3,4,"p",23),i.Rc(3,G,7,2,"div",8),i.Wb()),2&t){const t=i.nc();i.Fb(1),i.vc("ngIf",t.data.responseSimulation&&!t.data.responseSimulation.errorCode&&t.data.responseSimulation.requestId),i.Fb(1),i.vc("ngIf",t.data.responseSimulation&&t.data.responseSimulation.errorCode),i.Fb(1),i.vc("ngIf",t.data.responseSimulation&&!t.data.responseSimulation.requestId)}}function J(t,e){if(1&t&&(i.Tb(0,"p",37),i.oc(1,"translate")),2&t){const t=i.nc(2);i.wc("innerHTML",i.qc(1,1,"CofaNet.product.order."+t.data.product+".isNonCancellable",t.lang),i.Kc)}}function z(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div"),i.Tb(1,"p",37),i.oc(2,"translate"),i.Rc(3,J,2,4,"p",38),i.Xb(4,"div",39),i.Xb(5,"div",12),i.Xb(6,"button",36),i.jc("click",(function(){return i.Jc(t),i.nc().close()})),i.Tc(7,"CofaNet.global.close"),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.nc();i.Fb(1),i.wc("innerHTML",i.qc(2,2,"CofaNet.product.order."+t.data.product+".info",t.lang),i.Kc),i.Fb(2),i.vc("ngIf",t.data.isNonCancellable)}}function Y(t,e){1&t&&i.Tb(0,"span",44),2&t&&i.vc("innerHTML","CofaNet.product.order.response.NOA",i.Kc)}const K=function(t){return{today:t}};function $(t,e){if(1&t&&(i.Xb(0,"span",45),i.oc(1,"l10nDate"),i.oc(2,"StringToDate"),i.Tc(3," CofaNet.product.order.NOA.draft.save.message"),i.Wb()),2&t){const t=i.nc(2);i.vc("params",i.zc(7,K,i.rc(1,1,i.pc(2,5,t.data.today),t.defaultLocale,"mediumDate")))}}function H(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status."+t.response.detailedStatus,t.lang)," ")}}function Z(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status."+t.response.status,t.lang)," ")}}function Q(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status.UNDER_REVIEW",t.lang)," ")}}function tt(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status."+t.response.detailedStatus,t.lang)," ")}}function et(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status."+t.response.status,t.lang)," ")}}function at(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status."+t.data.response.status,t.lang),"")}}function nt(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status."+t.data.response.detailedStatus,t.lang)," ")}}function it(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status.UNDER_REVIEW",t.lang)," ")}}function ot(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status."+t.data.response.status,t.lang)," ")}}function ct(t,e){if(1&t&&(i.Xb(0,"strong"),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(3);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.status."+t.data.response.detailedStatus,t.lang)," ")}}function st(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"span",20),i.Tc(2,"CofaNet.product.order.response.success "),i.Wb(),i.Rc(3,H,3,4,"strong",8),i.Rc(4,Z,3,4,"strong",8),i.Rc(5,Q,3,4,"strong",8),i.Rc(6,tt,3,4,"strong",8),i.Rc(7,et,3,4,"strong",8),i.Rc(8,at,3,4,"strong",8),i.Rc(9,nt,3,4,"strong",8),i.Rc(10,it,3,4,"strong",8),i.Rc(11,ot,3,4,"strong",8),i.Rc(12,ct,3,4,"strong",8),i.Ub()),2&t){const t=i.nc(2);i.Fb(3),i.vc("ngIf",!t.data.response&&t.response.detailedStatus&&!t.response.isUnderReview),i.Fb(1),i.vc("ngIf",!t.data.response&&!t.response.detailedStatus&&!t.response.isUnderReview),i.Fb(1),i.vc("ngIf",!t.data.response&&t.response.isUnderReview&&t.displayUnderReviewStatus()),i.Fb(1),i.vc("ngIf",!t.data.response&&t.response.isUnderReview&&t.response.detailedStatus&&!t.displayUnderReviewStatus()),i.Fb(1),i.vc("ngIf",!t.data.response&&t.response.isUnderReview&&!t.response.detailedStatus&&!t.displayUnderReviewStatus()),i.Fb(1),i.vc("ngIf",t.data.response&&t.data.response.status&&!t.data.response.detailedStatus&&!t.data.response.isUnderReview),i.Fb(1),i.vc("ngIf",t.data.response&&t.data.response.detailedStatus&&!t.data.response.isUnderReview),i.Fb(1),i.vc("ngIf",t.data.response&&t.data.response.isUnderReview&&t.displayUnderReviewStatus()),i.Fb(1),i.vc("ngIf",t.data.response&&t.data.response.isUnderReview&&t.data.response.status&&!t.data.response.detailedStatus&&!t.displayUnderReviewStatus()),i.Fb(1),i.vc("ngIf",t.data.response&&t.data.response.isUnderReview&&t.data.response.detailedStatus&&!t.displayUnderReviewStatus())}}function rt(t,e){if(1&t&&(i.Xb(0,"span",46),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(2);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.error."+t.response.errorMessage,t.lang)," ")}}function lt(t,e){if(1&t&&(i.Xb(0,"span",46),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(2);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.error."+t.data.response.errorMessage,t.lang)," ")}}function dt(t,e){if(1&t&&(i.Xb(0,"span",46),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(2);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.order.SCORE.notAvailable",t.lang)," ")}}function ut(t,e){if(1&t&&(i.Xb(0,"span",46),i.Tc(1),i.oc(2,"translate"),i.Wb()),2&t){const t=i.nc(2);i.Fb(1),i.Vc(" ",i.qc(2,1,"CofaNet.product.error."+t.data.response.errorMessage,t.lang)," ")}}const bt=function(t){return{deliveryDate:t}};function pt(t,e){if(1&t&&(i.Xb(0,"span",45),i.oc(1,"l10nDate"),i.Tb(2,"br"),i.Tc(3," CofaNet.Product.full_report.delivery.day "),i.Wb()),2&t){const t=i.nc(2);i.vc("params",i.zc(5,bt,i.rc(1,1,t.getReportExpectedDate(),t.defaultLocale,"mediumDate")))}}function ft(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",49),i.jc("click",(function(){return i.Jc(t),i.nc(3).uploadDocuments()})),i.Tc(1," CofaNet.document.upload.title "),i.Wb()}}function mt(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",47),i.jc("click",(function(){return i.Jc(t),i.nc(2).close()})),i.Tc(2," CofaNet.global.close "),i.Wb(),i.Rc(3,ft,2,0,"button",48),i.Ub()}if(2&t){const t=i.nc(2);i.Fb(3),i.vc("ngIf",t.data&&t.data.upload)}}function gt(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",47),i.jc("click",(function(){return i.Jc(t),i.nc(2).close()})),i.Tc(2," CofaNet.product.actions.noConfirmation "),i.Wb(),i.Xb(3,"button",50),i.jc("click",(function(){i.Jc(t);const e=i.nc(2);return e.askConfirmation(e.response.deliveryId)})),i.Tc(4," CofaNet.product.actions.askConfirmation "),i.Wb(),i.Ub()}if(2&t){const t=i.nc(2);i.Fb(3),i.vc("disabled",t.isAskPressed)}}const ht=function(){return["NOA_CI","NOA_NGD"]},vt=function(){return["NOA_CI","NOA_NGD","NOADETAIL"]};function yt(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"p",40),i.Rc(2,Y,1,1,"span",41),i.Tb(3,"br"),i.Rc(4,$,4,9,"span",42),i.Tb(5,"br"),i.Rc(6,st,13,10,"ng-container",8),i.Rc(7,rt,3,4,"span",43),i.Rc(8,lt,3,4,"span",43),i.Rc(9,dt,3,4,"span",43),i.Rc(10,ut,3,4,"span",43),i.Rc(11,pt,4,7,"span",42),i.Wb(),i.Xb(12,"div",39),i.Xb(13,"div",12),i.Rc(14,mt,4,1,"ng-container",8),i.Rc(15,gt,5,1,"ng-container",8),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.nc();i.Fb(2),i.vc("ngIf",i.yc(10,ht).indexOf(t.data.product)>=0&&"DRAFT"!==t.data.detailedStatus),i.Fb(2),i.vc("ngIf",i.yc(11,vt).indexOf(t.data.product)>=0&&"DRAFT"===t.data.detailedStatus),i.Fb(2),i.vc("ngIf",-1===i.yc(12,vt).indexOf(t.data.product)),i.Fb(1),i.vc("ngIf",!t.data.response&&t.response&&t.response.errorMessage&&!t.getRUSA007ScoreReject()),i.Fb(1),i.vc("ngIf",t.data.response&&t.data.response.errorMessage&&!t.getRUSA007ScoreReject()),i.Fb(1),i.vc("ngIf",!t.data.response&&t.response&&t.response.errorMessage&&t.getRUSA007ScoreReject()),i.Fb(1),i.vc("ngIf",t.data.response&&t.data.response.errorMessage&&t.getRUSA007ScoreReject()),i.Fb(1),i.vc("ngIf","NATIVE_REP"===t.data.product&&("PENDING"===t.data.status||"POSTTAKE"===t.data.status)&&t.getReportExpectedDate()),i.Fb(3),i.vc("ngIf",t.response&&!t.response.authorizations||t.response&&t.response.authorizations&&!t.response.authorizations.askNotificationSending||"NOA_CI"===t.data.product||"NOA_NGD"===t.data.product||"NOADETAIL"===t.data.product),i.Fb(1),i.vc("ngIf",t.response&&t.response.authorizations&&t.response.authorizations.askNotificationSending)}}function Ct(t,e){if(1&t&&(i.Xb(0,"li",69),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.Fb(1),i.Wc("",t.label," - ",t.code,"")}}const Tt=function(t,e,a,n){return{productType:t,requestedAmount:e,currency:a,coveredAmount:n}},St=function(t,e,a){return{requestedAmount:t,currency:e,coveredAmount:a}},Nt=function(t){return{minutes:t}};function Rt(t,e){if(1&t){const t=i.Yb();i.Vb(0,39),i.Tb(1,"h4",51),i.oc(2,"l10nDecimal"),i.oc(3,"l10nDecimal"),i.Xb(4,"div",40),i.Xb(5,"h4",20),i.Tc(6,"CofaNet.interactive.dialog.popup.decision.reason.description"),i.Wb(),i.Xb(7,"ol",52),i.Rc(8,Ct,2,2,"li",53),i.Wb(),i.Xb(9,"div",54),i.Xb(10,"h3",55),i.Tc(11,"CofaNet.interactive.dialog.popup.optionselection.description"),i.Wb(),i.Xb(12,"div",15),i.Xb(13,"label",56),i.jc("click",(function(){return i.Jc(t),i.nc().selectInteractiveOption(1)})),i.oc(14,"l10nDecimal"),i.oc(15,"l10nDecimal"),i.Tc(16," CofaNet.interactive.dialog.popup.option1.description "),i.Tb(17,"input",57),i.Tb(18,"span",58),i.Wb(),i.Wb(),i.Xb(19,"div",15),i.Xb(20,"label",59),i.jc("click",(function(){return i.Jc(t),i.nc().selectInteractiveOption(2)})),i.oc(21,"l10nDecimal"),i.oc(22,"l10nDecimal"),i.Tc(23," CofaNet.interactive.dialog.popup.option2.description "),i.Tb(24,"input",60),i.Tb(25,"span",58),i.Wb(),i.Wb(),i.Xb(26,"div",15),i.Xb(27,"label",61),i.jc("click",(function(){return i.Jc(t),i.nc().selectInteractiveOption(3)})),i.oc(28,"l10nDecimal"),i.oc(29,"l10nDecimal"),i.Tc(30," CofaNet.interactive.dialog.popup.option3.description "),i.Tb(31,"input",62),i.Tb(32,"span",58),i.Wb(),i.Wb(),i.Xb(33,"div",15),i.Xb(34,"p",63),i.Tc(35,"CofaNet.interactive.dialog.popup.nosubmission.description"),i.Wb(),i.Xb(36,"div",64),i.Tb(37,"i",65),i.Xb(38,"span",20),i.Tc(39,"CofaNet.interactive.dialog.popup.timer "),i.Wb(),i.Tb(40,"span",66),i.Xb(41,"div",12),i.Xb(42,"button",67),i.jc("click",(function(){return i.Jc(t),i.nc().submitDecision()})),i.Tb(43,"i",68),i.Xb(44,"span",20),i.Tc(45,"CofaNet.global.confirm"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub()}if(2&t){const t=i.nc();i.Fb(1),i.vc("innerHTML","CofaNet.interactive.dialog.popup.coveredamount",i.Kc)("params",i.Cc(35,Tt,t.productName,i.qc(2,11,t.data.request.requestedAmount,t.defaultLocale)," "+t.data.request.currency,i.qc(3,14,t.data.interactiveDialogData.partialAmount.value,t.defaultLocale))),i.Fb(7),i.vc("ngForOf",t.data.interactiveDialogData.decisionReasons),i.Fb(5),i.vc("params",i.Bc(40,St,i.qc(14,17,t.data.request.requestedAmount,t.defaultLocale)," "+t.data.request.currency,i.qc(15,20,t.data.interactiveDialogData.partialAmount.value,t.defaultLocale))),i.Fb(4),i.vc("checked",1===t.getSelectedOption()),i.Fb(3),i.vc("params",i.Bc(44,St,i.qc(21,23,t.data.request.requestedAmount,t.defaultLocale)," "+t.data.request.currency,i.qc(22,26,t.data.interactiveDialogData.partialAmount.value,t.defaultLocale))),i.Fb(4),i.vc("checked",2===t.getSelectedOption()),i.Fb(3),i.vc("params",i.Bc(48,St,i.qc(28,29,t.data.request.requestedAmount,t.defaultLocale)," "+t.data.request.currency,i.qc(29,32,t.data.interactiveDialogData.partialAmount.value,t.defaultLocale))),i.Fb(4),i.vc("checked",3===t.getSelectedOption()),i.Fb(3),i.vc("params",i.zc(52,Nt,t.delay)),i.Fb(8),i.vc("disabled",t.timeout||!t.selectedInteractiveOption||t.isSubmit)}}function Ot(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"p",70),i.Tc(2,"CofaNet.interactive.dialog.confirmation.popup.expiration"),i.Wb(),i.Xb(3,"div",39),i.Xb(4,"div",12),i.Xb(5,"button",36),i.jc("click",(function(){return i.Jc(t),i.nc().close()})),i.Tc(6,"CofaNet.global.close"),i.Wb(),i.Wb(),i.Wb(),i.Ub()}if(2&t){const t=i.nc();i.Fb(1),i.vc("params",i.zc(1,Nt,t.delay))}}function It(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"p",70),i.Tc(2,"CofaNet.overdue.exceeding.confirmation.popup"),i.Wb(),i.Xb(3,"div",39),i.Xb(4,"div",12),i.Xb(5,"button",71),i.jc("click",(function(){return i.Jc(t),i.nc().closeAction(!1)})),i.Tc(6,"CofaNet.global.cancel"),i.Wb(),i.Xb(7,"button",72),i.jc("click",(function(){return i.Jc(t),i.nc().closeAction(!0)})),i.Tc(8," CofaNet.global.confirm "),i.Wb(),i.Wb(),i.Wb(),i.Ub()}if(2&t){const t=i.nc();i.Fb(1),i.vc("params",i.zc(2,Nt,t.delay)),i.Fb(6),i.vc("disabled",t.isSubmit)}}function kt(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"p",40),i.Tb(2,"span",44),i.Wb(),i.Xb(3,"div",39),i.Xb(4,"div",12),i.Xb(5,"button",32),i.jc("click",(function(){return i.Jc(t),i.nc().cancel()})),i.Tc(6,"CofaNet.global.yes"),i.Wb(),i.Xb(7,"button",36),i.jc("click",(function(){return i.Jc(t),i.nc().close()})),i.Tc(8,"CofaNet.global.no"),i.Wb(),i.Wb(),i.Wb(),i.Ub()}2&t&&(i.Fb(2),i.vc("innerHTML","CofaNet.product.order.cancellation",i.Kc))}function Dt(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"p",40),i.Tb(2,"span",44),i.Wb(),i.Xb(3,"div",39),i.Xb(4,"div",12),i.Xb(5,"button",32),i.jc("click",(function(){return i.Jc(t),i.nc().changeContract()})),i.Tc(6,"CofaNet.global.yes"),i.Wb(),i.Xb(7,"button",36),i.jc("click",(function(){return i.Jc(t),i.nc().cancel()})),i.Tc(8,"CofaNet.global.no"),i.Wb(),i.Wb(),i.Wb(),i.Ub()}2&t&&(i.Fb(2),i.vc("innerHTML","CofaNet.contract.modal.switchContract",i.Kc))}const Xt=function(t){return{busy:t}};let Wt=(()=>{class t{constructor(t,e,a,n,o,c,s,r,l,d,u,b){this.modal=t,this.orderService=e,this.router=a,this.authenticationService=n,this.apiService=o,this.localStorage=c,this.translationService=s,this.subscriberService=r,this.analyticsService=l,this.contractsService=d,this.companyService=u,this.modalService=b,this.isCancelled=new i.q,setTimeout(()=>{this.visible=!0})}ngOnInit(){this.setTitle(),this.user=this.authenticationService.currentUserValue,this.form=new o.j({effectDateRight:new o.g(this.apiService.formatDateToObject(this.apiService.getDateToday()),o.F.required)}),this.formReference=new o.j({customerReference:new o.g}),this.type===d.a.ACTION.DELETE&&this.data.product===d.a.PRODUCT.CREDITLIMIT?this.busy=this.orderService.hGetCustomizedCreditParameters({action:d.a.ACTION.DELETE,debtorEasyNumber:this.data.company.easyNumber,debtorIsoCountryCode:this.data.company.address.isoCountryCode,deliveryId:this.data.catalog.deliveryId,deliveryTypeCode:d.a.PRODUCT.CREDITLIMIT}).subscribe(t=>{const e=this.apiService.formatDateToObject(this.apiService.getDateToday());this.effectDate={maxDatePlus90Days:this.apiService.incrementDecrementDays(e,90,"i"),minDate:this.apiService.formatDateToObject(this.apiService.getDateToday())},this.riskParameters=t}):"interactive-dialog"===this.type&&(this.productName=this.translationService.translate("BcProduct.deliveryType."+this.data.product),this.selectedInteractiveOption=1,this.seconds=this.data.interactiveDialogData.delayInSeconds%60,this.minutes=Math.floor(this.data.interactiveDialogData.delayInSeconds/60),this.delay=this.minutes+(this.seconds<10?":0"+this.seconds:":"+this.seconds),this.timeout=!1,this.timerId=setInterval(()=>this.countdown(),1e3))}setTitle(){this.title="interactive-dialog"===this.type?"CofaNet.interactive.dialog.title":"overdue-exceeding"===this.type?"CofaNet.product.order.overdue.exceeding":"move-noa"===this.type?"BcProduct.deliveryType.NOA_CI":"changeContract"===this.type?"CofaNet.companyDetails.contractsSearch":"BcProduct.deliveryType."+this.data.product}displayCloseIcon(t){return"interactive-dialog"!==this.type&&("response-simulation"!==this.type||!this.data.responseSimulation)}uploadDocuments(){this.router.navigate(["order/CLAIMS/documents",this.data.easyNumber,this.data.claimIdentifier]),this.close()}getReportExpectedDate(){if(this.data.company&&this.data.company.standardInfProdDeliveryWaitingPeriod){const t=new Date,e=this.data.company.easyNumber?0:2;return t.setDate(t.getDate()+(this.data.company.standardInfProdDeliveryWaitingPeriod+e)),t}}decisionTopLinerSimulation(t,e){this.busy=this.orderService.hPostTopliner({agreed:t,requestId:this.data.responseSimulation.requestId}).subscribe(t=>{e?this.postResponse(t):this.close()})}order(){if(this.isSubmit=!0,this.type===d.a.ACTION.DELETE&&this.data.product===d.a.PRODUCT.NOADETAIL)this.busy=this.orderService.hDeleteNoaProduct(this.data.catalog.claimIdentifier).subscribe(t=>{this.apiService.companyDetailsTabs="overdue",this.router.navigate(["company/"+this.data.company.easyNumber]),this.close()},()=>{this.isSubmit=!1});else if("move-noa"===this.type)this.busy=this.orderService.hPostNoa({actionCode:"MOVE",debtorEasyNumber:this.data.company.easyNumber,debtorIsoCountryCode:this.data.company.address.isoCountryCode,deliveryTypeCode:this.data.catalog.deliveryTypeCode,riskclaimDetails:{claimIdentifier:this.data.product.claimCaseIdentifier.claimCaseIdentifier,debtType:this.data.catalog.debtType}}).subscribe(t=>{this.apiService.companyDetailsTabs="overdue",this.subscriberService.hGetProfilePreferences().subscribe(t=>{this.authenticationService.preferences=t}),this.router.navigate(["company/"+t.debtorEasyNumber]),this.close()},()=>{this.isSubmit=!1});else if(this.formReference.value&&this.formReference.value.customerReference){const t=this.setCompanyNotepads(this.formReference.value.customerReference);this.busy=this.companyService.addCompanyNotepad(this.data.company.easyNumber,t).subscribe(()=>{this.orderProduct()})}else this.orderProduct()}orderProduct(){const t=this.data.catalog;this.busy=this.orderService.hPostProduct(this.payload).subscribe(e=>{const a=`${t.familyTypeCode}|${t.deliveryTypeCode}|${e.status}`;this.type===d.a.ACTION.MOVE&&this.toggleGtmEvent(u.e.Conversion,u.d.transformation,a),"order"===this.type&&r.a.first(t.action)===d.a.ACTION.CREATE&&this.toggleGtmEvent(u.e.Conversion,u.d.subscription,a),this.apiService.companyDetailsTabs="risk",this.localStorage.remove("companyTemp"),this.postResponse(e),this.subscriberService.hGetProfilePreferences().subscribe(t=>{this.authenticationService.preferences=t})},()=>{this.isSubmit=!1})}setCompanyNotepads(t){this.data.company.customerReference.textValue=t;const e={notepads:r.a.uniqBy(r.a.sortBy(r.a.concat(this.data.company.notepads,this.data.company.outstandingAmount,this.data.company.customerReference),"position"),"identifier")};return r.a.each(e.notepads,t=>{t.textValue="text"===t.type?t.textValue:null,t.dateValue="date"===t.type?t.value:null,t.numberValue="number"===t.type?t.value:null,t.definitionIdentifier=t.identifier,delete t.code,delete t.position,delete t.value}),e}countdown(){0===this.seconds&&(this.seconds=60,this.minutes--),this.minutes<0&&(this.timeout=!0,clearInterval(this.timerId),this.type="interactive-dialog-expiration",this.setTitle()),this.seconds--,document.querySelector("#timer").innerHTML=this.minutes+(this.seconds>9?":":":0")+this.seconds}selectInteractiveOption(t){return this.selectedInteractiveOption=this.selectedInteractiveOption===t?null:t,!1}getSelectedOption(){return this.selectedInteractiveOption}submitDecision(){this.isSubmit=!0,clearInterval(this.timerId),this.payloadInteractiveDialog={option:this.selectedInteractiveOption,requestId:this.data.requestId},this.busy=this.orderService.hPostInteractiveDialogOption(this.payloadInteractiveDialog).subscribe(t=>{this.toggleGtmEvent(u.e.Conversion,u.d.interactiveDialog,"Answer"+this.selectedInteractiveOption),this.postResponse(t)})}orderCCL(){this.busy=this.orderService.hPostProduct(this.data.payload).subscribe(t=>{if(t.waitingStep){this.apiService.companyDetailsTabs="risk",this.close();const e=this.modalService.open(b.a);e.componentInstance.type="message",e.componentInstance.data={product:d.a.PRODUCT.CREDITLIMIT,response:t},this.router.navigate(["company/"+t.easyNumber])}else this.apiService.companyDetailsTabs="risk",this.type="message",this.response=t,this.subscriberService.hGetProfilePreferences().subscribe(t=>{this.authenticationService.preferences=t}),this.router.navigate(["company/"+t.easyNumber])})}askConfirmation(t){this.isAskPressed=!0,this.busy=this.orderService.hPatchNotificationConfirmation(t).subscribe(()=>{this.isAskPressed=!1,this.close()})}changeContract(){this.busy=this.contractsService.hGetContractByContractId(this.data.item.contractId).subscribe(t=>{this.authenticationService.currentContractUser=t.contract,t.searchIsoCountryCode&&this.localStorage.set("searchIsoCountryCode",t.searchIsoCountryCode),this.authenticationService.currentMenuAuthorizations=t.menuAuthorizations,this.authenticationService.currentUserAuthorizations=t.userAuthorizations,this.localStorage.set("currentContract",t.contract),this.localStorage.set("currentMenuAuthorizations",t.menuAuthorizations),this.localStorage.set("currentUserAuthorizations",t.userAuthorizations),this.apiService.companyDetailsTabs="risk",this.localStorage.remove("limitOrder"),this.localStorage.remove("companyTemp"),this.router.navigate(["company/"+this.data.easyNumber]),this.close()})}goToCompany(){this.close(),this.router.navigate(["company/"+this.data.company.easyNumber])}cancel(){this.isCancelled.emit(!0),this.close()}postResponse(t){this.type="message",this.setTitle(),this.response=t,this.router.navigate(["company/"+t.easyNumber])}displayUnderReviewStatus(){return"SCORE"===this.data.familyTypeCode?this.response.status===d.a.STATUS.POSTNTAK||this.response.status===d.a.STATUS.OPENED&&this.response.isUnderReview:(this.data.product===d.a.PRODUCT.ARATING||this.data.product===d.a.PRODUCT.ARATINGCHMON)&&(this.response.status===d.a.STATUS.POSTNTAK||this.response.status===d.a.STATUS.AGREED&&this.response.isUnderReview)}close(){this.visible=!1,setTimeout(()=>{this.modal.close()},300)}closeAction(t){this.visible=!1,setTimeout(()=>{this.modal.close(t)},300)}get payload(){const t=this.data.product===d.a.PRODUCT.CREDITLIMIT&&"DELE"===this.type&&this.form.value.effectDateRight?this.apiService.extractDate(this.form.value.effectDateRight):this.data.product===d.a.PRODUCT.CREDITLIMIT?this.apiService.getDateToday():null;return{actionCode:-1!==r.a.indexOf([d.a.ACTION.MOVE,d.a.ACTION.STOP,d.a.ACTION.DELETE],this.type)?this.type:r.a.first(this.data.catalog.action),customerComment:null,debtorCustomerRef:this.data.company&&this.data.company.customerReference&&this.data.company.customerReference.value?this.data.company.customerReference.value:null,debtorEasyNumber:this.data.companyTemp?"":this.data.company.easyNumber,debtorIsoCountryCode:this.data.companyTemp?this.data.companyTemp.address.isoCountryCode:this.data.company.address.isoCountryCode,deliveryTypeCode:this.data.product,isCofaMoveOrder:!1,originalDeliveryId:this.data.catalog.deliveryId,riskDetails:{amount:null,currency:this.user.defaultContract.currencyCode,minAmount:null,operationLabel:this.data.catalog.operationLabel,operationNumber:this.data.catalog.operationNumber,startDate:t},unknownDebtor:this.apiService.getUnknownDebtor(this.data.companyTemp)}}toggleGtmEvent(t,e,a){const n=new u.c(t,e,a);this.analyticsService.triggerGtmTagEvent(n)}getRUSA007ScoreReject(){return this.response&&"A007"===this.response.errorMessage&&"STATUS_REJECTED"===this.response.detailedStatus&&"RUS"===this.data.company.address.isoCountryCode&&("SCORECHECK"===this.data.product||"SCOREMON"===this.data.product)}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(p.a),i.Sb(f.a),i.Sb(m.e),i.Sb(g.a),i.Sb(h.a),i.Sb(l.a),i.Sb(c.t),i.Sb(v.a),i.Sb(y.a),i.Sb(C.a),i.Sb(T.a),i.Sb(p.g))},t.\u0275cmp=i.Mb({type:t,selectors:[["cad-modal-order"]],inputs:{type:"type",size:"size",data:"data"},outputs:{isCancelled:"isCancelled"},decls:23,vars:30,consts:[[1,"c-modal"],[1,"c-modal__opac-layer"],[1,"c-modal__content"],[3,"ngBusy"],[3,"formGroup"],[1,"c-modal__close-icon",3,"click"],[1,"las","la-times"],[1,"c-modal__title"],[4,"ngIf"],["class","row u-margin-top-md",4,"ngIf"],["l10nTranslate","",1,"c-modal__parag"],["class","cs-reference",3,"formGroup",4,"ngIf"],[1,"c-modal__confirm-button-container"],["id","confirmOrder","l10nTranslate","",1,"c-button","c-button--primary","c-button--confirm",3,"disabled","click"],[1,"cs-reference",3,"formGroup"],[1,"row"],[1,"col-3","align-self-center"],["for","customerReference","l10nTranslate",""],[1,"col-9"],["type","text","formControlName","customerReference","id","customerReference","maxlength","255"],["l10nTranslate",""],["id","deleteConfirmation","l10nTranslate","",1,"c-button","c-button--primary","c-button--confirm",3,"disabled","click"],["id","cancelDeletion","l10nTranslate","",1,"c-button","c-button--primary","c-button--cancel",3,"click"],["class","c-modal__parag","l10nTranslate","",4,"ngIf"],["class","row u-form-margin-top",4,"ngIf"],[1,"row","u-form-margin-top"],[1,"col-4","align-self-center"],["for","amount","l10nTranslate","",1,"u-label-required"],[1,"col-4"],[1,"input-date"],["name","effectDateRight",3,"form","minDate","maxDate"],["l10nTranslate","",1,"c-modal__parag",3,"innerHTML","params"],["l10nTranslate","",1,"c-button","c-button--primary","c-button--confirm",3,"click"],["l10nTranslate","",1,"c-button","c-button--primary","c-button--cancel",3,"click"],[1,"col-6","align-self-center"],[1,"col-6"],["l10nTranslate","","type","button",1,"c-button","c-button--primary","c-button--cancel-opac",3,"click"],[1,"c-modal__parag",3,"innerHTML"],["class","c-modal__parag",3,"innerHTML",4,"ngIf"],[1,"row","u-margin-top-md"],[1,"c-modal__parag"],["l10nTranslate","",3,"innerHTML",4,"ngIf"],["l10nTranslate","",3,"params",4,"ngIf"],["class","d-block",4,"ngIf"],["l10nTranslate","",3,"innerHTML"],["l10nTranslate","",3,"params"],[1,"d-block"],["id","closeConfirmationPopup","l10nTranslate","","type","button",1,"c-button","c-button--primary","c-button--cancel-opac",3,"click"],["class","c-button c-button--primary c-button--upload","l10nTranslate","",3,"click",4,"ngIf"],["l10nTranslate","",1,"c-button","c-button--primary","c-button--upload",3,"click"],["l10nTranslate","",1,"c-button","c-button--primary","c-button--upload",3,"disabled","click"],["l10nTranslate","",1,"c-section-title","text-secondary","d-block","text-center",3,"innerHTML","params"],[1,"c-text--tertiary"],["class","col-sm-12",4,"ngFor","ngForOf"],[1,"c-product-search-result","c-order-credit-form","ml-0","mr-0"],["l10nTranslate","",1,"text-center","mt-0","c-inline-status--agreed"],["for","option1","l10nTranslate","",1,"radio-container","c-text--primary-light-bold","text-left",3,"params","click"],["type","radio","ng-model","ctrl.decision","id","option1","value","1",3,"checked"],[1,"checkmark"],["for","option2","l10nTranslate","",1,"radio-container","c-text--primary-light-bold","text-left",3,"params","click"],["type","radio","ng-model","ctrl.decision","id","option2","value","2",3,"checked"],["for","option3","l10nTranslate","",1,"radio-container","c-text--primary-light-bold","text-left",3,"params","click"],["type","radio","ng-model","ctrl.decision","id","option3","value","3",3,"checked"],["l10nTranslate","",1,"c-text--tertiary",3,"params"],[1,"col-sm-12","c-text--tertiary","c-inline-status--refused","text-center"],[1,"las","la-spinner","fa-spin","fa-cog","mr-2"],["id","timer"],["type","submit",1,"c-button","c-button--primary","c-button--confirm","d-inline-block",3,"disabled","click"],["aria-hidden","true",1,"las","la-share-square-o",2,"color","white"],[1,"col-sm-12"],["l10nTranslate","",1,"c-modal__parag","c-text--primary",3,"params"],["l10nTranslate","",1,"c-button","c-button--primary","c-button--cancel-opac",3,"click"],["l10nTranslate","","type","button",1,"c-button","c-button--primary","c-button--confirm",3,"disabled","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Tb(1,"div",1),i.Xb(2,"div",2),i.Xb(3,"div",3),i.Xb(4,"form",4),i.Xb(5,"button",5),i.jc("click",(function(){return e.close()})),i.oc(6,"translate"),i.Tb(7,"i",6),i.Wb(),i.Xb(8,"h3",7),i.Tc(9),i.oc(10,"translate"),i.Wb(),i.Rc(11,k,7,2,"div",8),i.Rc(12,D,10,1,"div",8),i.Rc(13,P,10,5,"div",8),i.Rc(14,_,8,8,"div",8),i.Rc(15,B,4,3,"div",8),i.Wb(),i.Rc(16,z,8,5,"div",8),i.Rc(17,yt,16,13,"div",8),i.Rc(18,Rt,46,54,"ng-container",9),i.Rc(19,Ot,7,3,"ng-container",8),i.Rc(20,It,9,4,"ng-container",8),i.Rc(21,kt,9,1,"ng-container",8),i.Rc(22,Dt,9,1,"ng-container",8),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Kb("c-modal--visible",e.visible),i.Fb(2),i.Kb("large","lg"===e.size),i.Fb(1),i.vc("ngBusy",i.zc(28,Xt,e.busy)),i.Fb(1),i.Kb("d-block","response-simulation"===e.type),i.vc("formGroup",e.form),i.Fb(1),i.Gb("arial-label",i.qc(6,22,"CofaNet.accessibility.iconPopin.close",e.lang)),i.Fb(4),i.Uc(i.qc(10,25,e.title,e.lang)),i.Fb(2),i.vc("ngIf","order"===e.type),i.Fb(1),i.vc("ngIf","move-noa"===e.type),i.Fb(1),i.vc("ngIf","DELE"===e.type||"STOP"===e.type||"MOVE"===e.type),i.Fb(1),i.vc("ngIf","warning-amount"===e.type),i.Fb(1),i.vc("ngIf","response-simulation"===e.type),i.Fb(1),i.vc("ngIf","detail-product"===e.type),i.Fb(1),i.vc("ngIf","message"===e.type),i.Fb(1),i.vc("ngIf","interactive-dialog"===e.type),i.Fb(1),i.vc("ngIf","interactive-dialog-expiration"===e.type),i.Fb(1),i.vc("ngIf","overdue-exceeding"===e.type),i.Fb(1),i.vc("ngIf","cancel"===e.type),i.Fb(1),i.vc("ngIf","changeContract"===e.type))},directives:[S.c,o.H,o.s,o.k,N.u,c.q,o.c,o.r,o.i,o.n,R.a,N.t],pipes:[c.r,c.g,N.g,c.e,O.a],styles:[".cs-reference[_ngcontent-%COMP%]{background:#f2f3f5;padding:10px;margin-top:10px;border-radius:4px;border:.1rem solid #c8cbd5}"]}),Object(n.b)([Object(c.a)(),Object(n.c)("design:type",String)],t.prototype,"defaultLocale",void 0),Object(n.b)([Object(c.k)(),Object(n.c)("design:type",String)],t.prototype,"lang",void 0),t})()},OTRh:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a("fXoL");let i=(()=>{class t{constructor(t){this.el=t,this.regexStr="^[0-9_]*$"}onInputChange(t){const e=this.el.nativeElement.value;this.el.nativeElement.value=e.replace(/[^0-9]*/g,"").replace(/^0+(?=\d)/,""),e!==this.el.nativeElement.value&&t.stopPropagation()}onPaste(t){if(void 0!==t){t.preventDefault();const e=t.clipboardData.getData("text/plain").replace(/\D/g,"");document.execCommand("insertText",!1,e)}else{const t=window.clipboardData.getData("text/plain").replace(/\D/g,"").replace(/^0+(?=\d)/,"");document.execCommand("insertText",!1,t)}}onDrop(t){t.preventDefault();const e=t.dataTransfer.getData("text").replace(/\D/g,"").replace(/^0+(?=\d)/,"");this.inputElement.focus(),document.execCommand("insertText",!1,e)}onKeyPress(t){return new RegExp(this.regexStr).test(t.key)}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(n.o))},t.\u0275dir=n.Nb({type:t,selectors:[["","numeric",""]],hostBindings:function(t,e){1&t&&n.jc("input",(function(t){return e.onInputChange(t)}))("paste",(function(t){return e.onPaste(t)}))("drop",(function(t){return e.onDrop(t)}))("keypress",(function(t){return e.onKeyPress(t)}))}}),t})()},ZOFi:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a("fXoL");let i=(()=>{class t{onClick(t){t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.Nb({type:t,selectors:[["","click-stop-propagation",""]],hostBindings:function(t,e){1&t&&n.jc("click",(function(t){return e.onClick(t)}))}}),t})()},fneg:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a("fXoL");let i=(()=>{class t{transform(t){return t&&"-0"===t.toString()?"0":t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Rb({name:"negativeZero",type:t,pure:!0}),t})()},kCfB:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("dzx2"),i=a("fXoL"),o=a("ofXK"),c=a("1ATV");function s(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",1),i.Xb(1,"p",2),i.Xb(2,"span"),i.Tc(3),i.oc(4,"translate"),i.Wb(),i.Tb(5,"br"),i.Xb(6,"span",3),i.Xb(7,"span",4),i.Tc(8),i.Wb(),i.Xb(9,"i",5),i.jc("click",(function(){return i.Jc(t),i.nc().copyToClipboard()})),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.nc();i.Fb(3),i.Vc("",i.pc(4,3,"CofaNet.company.notepad.COMPANYREF")," : "),i.Fb(4),i.vc("title",t.customerRef),i.Fb(1),i.Uc(t.customerRef)}}let r=(()=>{class t{constructor(t){this.apiService=t}copyToClipboard(){navigator.clipboard.writeText(this.customerRef),this.apiService.clipboardSubject.next(this.customerRef)}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(n.a))},t.\u0275cmp=i.Mb({type:t,selectors:[["cad-customer-reference-card"]],inputs:{customerRef:"customerRef"},decls:1,vars:1,consts:[["class","c-company-ref__ref-container",4,"ngIf"],[1,"c-company-ref__ref-container"],[1,"c-company-ref__ref"],[1,"customerRefContainer"],[1,"customerRef",3,"title"],[1,"las","la-clipboard",3,"click"]],template:function(t,e){1&t&&i.Rc(0,s,10,5,"div",0),2&t&&i.vc("ngIf",e.customerRef)},directives:[o.u],pipes:[c.r],styles:[".c-company-ref__ref[_ngcontent-%COMP%]{width:auto;max-width:95%;text-align:left}.customerRefContainer[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.customerRefContainer[_ngcontent-%COMP%]   .customerRef[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.customerRefContainer[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{cursor:pointer;margin-left:10px}"]}),t})()},kUwB:function(t,e,a){"use strict";a.d(e,"a",(function(){return m}));var n=a("dzx2"),i=a("fXoL"),o=a("I9E9"),c=a.n(o),s=a("wd/R"),r=a("1kSV"),l=a("1ATV"),d=a("3Pt+"),u=a("ofXK");const b=["d"];let p=(()=>{class t{constructor(t){this.translationService=t}get weekdays(){return[this.translationService.translate("CofaNet.calendar.day.short.1").substring(0,2),this.translationService.translate("CofaNet.calendar.day.short.2").substring(0,2),this.translationService.translate("CofaNet.calendar.day.short.3").substring(0,2),this.translationService.translate("CofaNet.calendar.day.short.4").substring(0,2),this.translationService.translate("CofaNet.calendar.day.short.5").substring(0,2),this.translationService.translate("CofaNet.calendar.day.short.6").substring(0,2),this.translationService.translate("CofaNet.calendar.day.short.7").substring(0,2)]}get months(){return[this.translationService.translate("CofaNet.calendar.month.0"),this.translationService.translate("CofaNet.calendar.month.1"),this.translationService.translate("CofaNet.calendar.month.2"),this.translationService.translate("CofaNet.calendar.month.3"),this.translationService.translate("CofaNet.calendar.month.4"),this.translationService.translate("CofaNet.calendar.month.5"),this.translationService.translate("CofaNet.calendar.month.6"),this.translationService.translate("CofaNet.calendar.month.7"),this.translationService.translate("CofaNet.calendar.month.8"),this.translationService.translate("CofaNet.calendar.month.9"),this.translationService.translate("CofaNet.calendar.month.10"),this.translationService.translate("CofaNet.calendar.month.11")]}}return t.\u0275fac=function(e){return new(e||t)(i.fc(l.t))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac}),t})(),f=(()=>{class t extends r.d{constructor(t){super(),this.i18n=t}getWeekdayShortName(t){return this.i18n.weekdays[t-1]}getMonthShortName(t){return this.i18n.months[t-1]}getMonthFullName(t){return this.getMonthShortName(t)}getDayAriaLabel(t){return`${t.day}-${t.month}-${t.year}`}}return t.\u0275fac=function(e){return new(e||t)(i.fc(p))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac}),t})(),m=(()=>{class t{constructor(t){this.apiService=t,this.itemChange=new i.q}ngOnInit(){this.minDate=this.minDate?this.minDate:this.apiService.formatDateToObject(this.apiService.getMinDate()),this.maxDate=this.maxDate?this.maxDate:this.apiService.formatDateToObject(this.apiService.getMaxDate()),this.placeholder=this.apiService.getDateCountryFormat();const t=this.el._elRef.nativeElement;new c.a({mask:this.getDateFormat(),gready:!0,autoUnmask:!1,placeholder:this.apiService.getDateCountryFormat()}).mask(t)}getDateFormat(){return this.apiService.getDateCountryFormat().replace(/[A-Za-z]/g,"9")}onDateSelect(t){this.itemChange.emit(t)}checkDate(){const t=this.form.get(this.name).value;if(null===t)return;let e=!0;if(e=this.sliceDate(0,2,t.slice(0,2))&&this.sliceDate(3,5,t.slice(3,5))&&this.sliceDate(6,10,t.slice(6,10)),e){const t=s(this.form.get(this.name).value,this.apiService.getDateCountryFormat());this.form.patchValue({[this.name]:this.apiService.formatDate(t.toDate())})}}sliceDate(t,e,a){let n=!0;return"DD"===this.apiService.getDateCountryFormat().slice(t,e)?("D"===a.slice(0,1)||"D"===a.slice(1,2)||parseInt(a)>31)&&(n=!1):"MM"===this.apiService.getDateCountryFormat().slice(t,e)?("M"===a.slice(0,1)||"M"===a.slice(1,2)||parseInt(a)>12)&&(n=!1):"YYYY"===this.apiService.getDateCountryFormat().slice(t,e)&&("Y"!==a.slice(0,1)&&"Y"!==a.slice(1,2)&&"Y"!==a.slice(2,3)&&"Y"!==a.slice(3,4)||(n=!1)),n}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(n.a))},t.\u0275cmp=i.Mb({type:t,selectors:[["cad-date-format"]],viewQuery:function(t,e){var a;1&t&&i.Pc(b,!0),2&t&&i.Fc(a=i.kc())&&(e.el=a.first)},inputs:{disabled:"disabled",form:"form",name:"name",minDate:"minDate",maxDate:"maxDate",defaultDate:"defaultDate"},outputs:{itemChange:"itemChange"},features:[i.Eb([p,{provide:r.d,useClass:f}])],decls:5,vars:7,consts:[[1,"d-relative",3,"formGroup"],["type","text","ngbDatepicker","",3,"ngClass","formControlName","placeholder","minDate","maxDate","disabled","dateSelect","keyup"],["d","ngbDatepicker"],[1,"calendar",3,"click"],[1,"las","la-calendar"]],template:function(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",0),i.Xb(1,"input",1,2),i.jc("dateSelect",(function(t){return e.onDateSelect(t)}))("keyup",(function(){return e.checkDate()})),i.Wb(),i.Xb(3,"span",3),i.jc("click",(function(){return i.Jc(t),i.Gc(2).toggle()})),i.Tb(4,"i",4),i.Wb(),i.Wb()}2&t&&(i.vc("formGroup",e.form),i.Fb(1),i.wc("placeholder",e.placeholder),i.vc("ngClass",e.disabled?"disabledDiv":null)("formControlName",e.name)("minDate",e.minDate)("maxDate",e.maxDate)("disabled",e.disabled))},directives:[d.s,d.k,r.f,d.c,u.r,d.r,d.i],styles:[".disabledDiv[_ngcontent-%COMP%]{pointer-events:none;background-color:#eaeaea;cursor:not-allowed}"]}),t})()},pdN7:function(t,e,a){"use strict";a.d(e,"a",(function(){return O}));var n=a("mrSG"),i=a("1ATV"),o=a("fXoL"),c=a("1kSV"),s=a("BsqS"),r=a("qPwn"),l=a("1Znx"),d=a("ofXK");function u(t,e){1&t&&(o.Xb(0,"strong",8),o.Tc(1," CofaNet.product.status.PENDING "),o.Wb())}function b(t,e){if(1&t&&(o.Xb(0,"strong",21),o.Tc(1),o.oc(2,"translate"),o.Wb()),2&t){const t=o.nc(3);o.Fb(1),o.Vc(" ",o.qc(2,1,"CofaNet.product.status."+t.data.response.status,t.lang),"")}}function p(t,e){if(1&t&&(o.Xb(0,"strong",22),o.Tc(1),o.oc(2,"translate"),o.Wb()),2&t){const t=o.nc(3);o.Fb(1),o.Vc(" ",o.qc(2,1,"CofaNet.product.status."+t.data.response.detailedStatus,t.lang)," ")}}function f(t,e){if(1&t&&(o.Xb(0,"span"),o.Rc(1,b,3,4,"strong",19),o.Rc(2,p,3,4,"strong",20),o.Wb()),2&t){const t=o.nc(2);o.Fb(1),o.vc("ngIf",(null==t.data.response?null:t.data.response.status)&&!(null!=t.data.response&&t.data.response.detailedStatus)),o.Fb(1),o.vc("ngIf",null==t.data.response?null:t.data.response.detailedStatus)}}function m(t,e){if(1&t&&(o.Xb(0,"span"),o.Rc(1,u,2,0,"strong",18),o.Rc(2,f,3,2,"span",9),o.Wb()),2&t){const t=o.nc();o.Fb(1),o.vc("ngIf",!t.countdownOver),o.Fb(1),o.vc("ngIf",t.countdownOver)}}function g(t,e){if(1&t&&(o.Xb(0,"strong"),o.Tc(1),o.oc(2,"translate"),o.Wb()),2&t){const t=o.nc(2);o.Fb(1),o.Vc(" ",o.qc(2,1,"CofaNet.product.status."+t.waitingDays.status,t.lang)," ")}}function h(t,e){if(1&t&&(o.Xb(0,"strong"),o.Tc(1),o.oc(2,"translate"),o.Wb()),2&t){const t=o.nc(2);o.Fb(1),o.Vc(" ",o.qc(2,1,"CofaNet.product.status."+t.waitingDays.detailedStatus,t.lang)," ")}}function v(t,e){if(1&t&&(o.Xb(0,"span"),o.Rc(1,g,3,4,"strong",9),o.Rc(2,h,3,4,"strong",9),o.Wb()),2&t){const t=o.nc();o.Fb(1),o.vc("ngIf",t.waitingDays.status&&!t.waitingDays.detailedStatus),o.Fb(1),o.vc("ngIf",t.waitingDays.detailedStatus)}}function y(t,e){if(1&t&&(o.Xb(0,"span",23),o.Tc(1),o.oc(2,"translate"),o.Wb()),2&t){const t=o.nc();o.Fb(1),o.Vc(" ",o.qc(2,1,"CofaNet.product.error."+t.response.errorMessage,t.lang)," ")}}function C(t,e){if(1&t&&(o.Xb(0,"span",23),o.Tc(1),o.oc(2,"translate"),o.Wb()),2&t){const t=o.nc();o.Fb(1),o.Vc(" ",o.qc(2,1,"CofaNet.product.error."+t.data.response.errorMessage,t.lang)," ")}}function T(t,e){1&t&&(o.Xb(0,"span",24),o.Xb(1,"span",8),o.Tc(2,"CofaNet.waiting.time.done"),o.Wb(),o.Wb())}function S(t,e){if(1&t&&(o.Xb(0,"div",25),o.Xb(1,"div",26),o.Tc(2),o.Wb(),o.mc(),o.Xb(3,"svg"),o.Tb(4,"circle",27),o.Wb(),o.Wb()),2&t){const t=o.nc();o.Fb(2),o.Uc(t.countdownValue)}}function N(t,e){1&t&&o.Tb(0,"p",28),2&t&&o.vc("innerHTML","CofaNet.waiting.time.popup.info",o.Kc)}const R=function(t){return{busy:t}};let O=(()=>{class t{constructor(t,e,a){this.modal=t,this.waitingTimeService=e,this.companyService=a,setTimeout(()=>{this.visible=!0})}ngOnInit(){this.setCounter(),this.initialRqtState={status:this.data.response.status,detailedStatus:this.data.response.detailedStatus},this.noBreadcrumbRqtId=this.data.response.requestId,this.waitingTimeService.refreshNow.next(this.noBreadcrumbRqtId)}showTheBreadcrumb(t){return t.status!=this.initialRqtState.status||t.detailedStatus!=this.initialRqtState.detailedStatus}setCounter(){this.countdownValue=30,this.timer=setInterval(()=>{this.countdownValue--,this.countdownValue<=0?(this.goToCompany(),clearInterval(this.timer),this.countdownOver=!0):this.countdownValue%5==0&&this.companyService.hGetWaitingTime(this.data.response.easyNumber,this.data.response.requestId).subscribe(t=>{t&&(t.noWaiting||t.delivery||this.showTheBreadcrumb(t))&&(this.waitingDays=t,this.countdownOver=!0,this.goToCompany(),clearInterval(this.timer))})},1e3)}goToCompany(){this.noBreadcrumbRqtId="",this.waitingTimeService.refreshNow.next(this.noBreadcrumbRqtId)}close(){this.visible=!1,setTimeout(()=>{this.modal.close()},300)}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(c.a),o.Sb(s.a),o.Sb(r.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["cad-modal-order-waiting-time"]],inputs:{size:"size",data:"data"},decls:26,vars:19,consts:[[1,"c-modal"],[1,"c-modal__opac-layer"],[1,"c-modal__content"],[3,"ngBusy"],[1,"c-modal__close-icon",3,"click"],[1,"las","la-times"],["l10nTranslate","",1,"c-modal__title"],[1,"c-modal__parag"],["l10nTranslate",""],[4,"ngIf"],["class","d-block",4,"ngIf"],["l10nTranslate","",1,"comma"],["style","text-transform: initial; margin-top: 0",4,"ngIf"],["id","countdown","style","margin-left: 40px",4,"ngIf"],["class","c-modal__parag","l10nTranslate","",3,"innerHTML",4,"ngIf"],[1,"row","u-margin-top-md"],[1,"c-modal__confirm-button-container"],["id","closeConfirmationPopup","l10nTranslate","","type","button",1,"c-button","c-button--primary","c-button--cancel-opac",3,"click"],["l10nTranslate","",4,"ngIf"],["id","3",4,"ngIf"],["id","4",4,"ngIf"],["id","3"],["id","4"],[1,"d-block"],[2,"text-transform","initial","margin-top","0"],["id","countdown",2,"margin-left","40px"],["id","countdown-number"],["r","18","cx","20","cy","20"],["l10nTranslate","",1,"c-modal__parag",3,"innerHTML"]],template:function(t,e){1&t&&(o.Xb(0,"div",0),o.Tb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"div",3),o.Xb(4,"button",4),o.jc("click",(function(){return e.close()})),o.oc(5,"translate"),o.Tb(6,"i",5),o.Wb(),o.Xb(7,"h3",6),o.Tc(8),o.Wb(),o.Xb(9,"p",7),o.Xb(10,"span",8),o.Tc(11,"CofaNet.product.order.response.success"),o.Wb(),o.Rc(12,m,3,2,"span",9),o.Rc(13,v,3,2,"span",9),o.Rc(14,y,3,4,"span",10),o.Rc(15,C,3,4,"span",10),o.Wb(),o.Xb(16,"div",7),o.Xb(17,"span",11),o.Tc(18,"CofaNet.waiting.time.popup.time"),o.Wb(),o.Rc(19,T,3,0,"span",12),o.Rc(20,S,5,1,"div",13),o.Wb(),o.Rc(21,N,1,1,"p",14),o.Xb(22,"div",15),o.Xb(23,"div",16),o.Xb(24,"button",17),o.jc("click",(function(){return e.close()})),o.Tc(25,"CofaNet.global.close"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t&&(o.Kb("c-modal--visible",e.visible),o.Fb(2),o.Kb("large","lg"===e.size),o.Fb(1),o.vc("ngBusy",o.zc(17,R,e.busy)),o.Fb(1),o.Gb("arial-label",o.qc(5,14,"CofaNet.accessibility.iconPopin.close",e.lang)),o.Fb(4),o.Uc("BcProduct.deliveryType."+e.data.product),o.Fb(4),o.vc("ngIf",!e.countdownOver||!e.waitingDays),o.Fb(1),o.vc("ngIf",e.countdownOver&&e.waitingDays),o.Fb(1),o.vc("ngIf",!e.data.response&&e.response&&e.response.errorMessage),o.Fb(1),o.vc("ngIf",e.data.response&&e.data.response.errorMessage),o.Fb(4),o.vc("ngIf",e.countdownOver),o.Fb(1),o.vc("ngIf",!e.countdownOver),o.Fb(1),o.vc("ngIf",!e.countdownOver))},directives:[l.c,i.q,d.u],pipes:[i.r],styles:['#countdown[_ngcontent-%COMP%]{position:relative;height:40px;text-align:center}#countdown[_ngcontent-%COMP%], #countdown-number[_ngcontent-%COMP%]{display:inline-block;width:40px}#countdown-number[_ngcontent-%COMP%]{color:var(--primary);line-height:40px;position:absolute}svg[_ngcontent-%COMP%]{width:40px;height:40px;transform:rotateY(-180deg) rotate(-90deg)}svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke-dasharray:113px;stroke-dashoffset:0px;stroke-linecap:round;stroke-width:2px;stroke:var(--primary);fill:none;animation:countdown 30s linear infinite forwards}@keyframes countdown{0%{stroke-dashoffset:0px}to{stroke-dashoffset:113px}}.comma[_ngcontent-%COMP%]:after{content:": "}']}),Object(n.b)([Object(i.k)(),Object(n.c)("design:type",String)],t.prototype,"lang",void 0),t})()}}]);